(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(23),i=n.n(s),l=n(8),o=n(4),u=n(5),d=n.n(u),j=n(10),b=n(7),p=n.n(b),m=function(e){e?p.a.defaults.headers.common["x-auth-token"]=e:delete p.a.defaults.headers.common["x-auth-token"]},h=n(78),O="SET_ALERT",x="REMOVE_ALERT",f="REGISTER_SUCCESS",v="REGISTER_FAIL",g="USER_LOADED",N="AUTH_ERROR",y="LOGIN_SUCCESS",w="LOGIN_FAIL",C="LOGOUT",S="GET_PROJECTS",k="GET_PROJECT_ERROR",E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var c=Object(h.a)();a({type:O,payload:{msg:e,alertType:t,id:c}}),setTimeout((function(){return a({type:x,payload:c})}),n)}},T=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&(console.log(localStorage.token),m(localStorage.token)),e.prev=1,e.next=4,p.a.get("/api/auth");case 4:n=e.sent,t({type:g,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:N});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},A=function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(a){var c,r,s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,p.a.post("/api/auth/login",r,c);case 5:s=n.sent,a({type:y,payload:s.data}),a(T()),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),(i=n.t0.response.data.errors)&&i.forEach((function(e){return a(E(e.msg,"danger"))})),a({type:w});case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},I=Object(o.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:C})}}})((function(e){var t=e.auth,n=t.isAuthenticated,r=t.loading,s=e.logout,i=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item mr-3",children:Object(a.jsx)(l.b,{className:"nav-link",to:"/add-project",children:"Adauga Proiect"})}),Object(a.jsx)("li",{className:"nav-item mr-3",children:Object(a.jsx)("a",{className:"nav-link",onClick:s,href:"#!",children:"Logout"})})]}),o=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item mr-3",children:Object(a.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(a.jsx)("li",{className:"nav-item mr-3",children:Object(a.jsx)(l.b,{className:"nav-link",to:"/register",children:"Register"})})]});return Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{paddingLeft:"200px"},children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:"BugTracking App"}),Object(a.jsx)("div",{className:"collapse navbar-collapse ml-5",id:"navbarNavDropdown",children:Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item active mr-3",children:Object(a.jsx)(l.b,{className:"nav-link",to:"/",children:"Lista proiecte"})}),!r&&Object(a.jsx)(c.Fragment,{children:n?i:o})]})})]})})),L=(n(72),Object(o.b)((function(e){return{auth:e.auth,project:e.project}}),{getProjects:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/project");case 3:n=e.sent,t({type:S,payload:n.data}),t(E("Au fost incarcate ".concat(n.data.length," proiecte"),"info",2500)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:k,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getProjects,n=(e.auth,e.project.projects);return Object(c.useEffect)((function(){t()}),[t]),Object(a.jsx)("div",{className:"container page pb-5",children:Object(a.jsxs)("div",{className:"d-flex flex-column",children:[Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)("h3",{children:"Proiecte adaugate"})}),Object(a.jsx)("ul",{className:"list-group",children:n.map((function(e){return Object(a.jsx)(l.b,{to:{pathname:"/projects/".concat(e.id)},children:Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{className:"mr-4",children:e.id}),Object(a.jsxs)("span",{children:[e.title," "]}),Object(a.jsx)("span",{className:"ml-5",children:e.description.slice(0,100)})]},e.id)})}))})]})})}))),P=n(16),R=n(2),M=n(12),D=n(6),_=Object(o.b)((function(e){return{isLoggedIn:e.auth.isAuthenticated}}),{login:A})((function(e){var t=e.login,n=e.isLoggedIn,r=Object(c.useState)({email:"",password:""}),s=Object(M.a)(r,2),i=s[0],l=s[1],o=i.email,u=i.password,d=function(e){return l(Object(R.a)(Object(R.a)({},i),{},Object(P.a)({},e.target.name,e.target.value)))};return n?Object(a.jsx)(D.a,{to:"/"}):Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"row flex-column login-card p-3",children:[Object(a.jsx)("div",{className:"login-head mb-3 text-left",children:Object(a.jsx)("h4",{children:"Login"})}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(o,u)}(e)},children:[Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Email"}),Object(a.jsx)("input",{type:"email",name:"email",placeholder:"example@website.com",id:"email",value:o,onChange:function(e){return d(e)},required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Parola"}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",value:u,onChange:function(e){return d(e)},required:!0})]}),Object(a.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Conecteaza-te"})]})]})})})})})),F=Object(o.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return console.log(e),Object(a.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})),q=Object(o.b)((function(e){return{isLoggedIn:e.auth.isAuthenticated}}),{setAlert:E,register:function(e){var t=e.nume,n=e.prenume,a=e.email,c=e.password,r=e.role;return function(){var e=Object(j.a)(d.a.mark((function e(s){var i,l,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({nume:t,prenume:n,email:a,password:c,role:r}),e.prev=2,e.next=5,p.a.post("/api/auth/register",l,i);case 5:o=e.sent,s({type:f,payload:o.data}),s(T()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(u=e.t0.response.data.errors)&&u.forEach((function(e){return s(E(e.msg,"danger"))})),s({type:v});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,n=e.register,r=e.isLoggedIn,s=Object(c.useState)({prenume:"",nume:"",email:"",password:"",password2:"",role:"MP"}),i=Object(M.a)(s,2),l=i[0],o=i[1],u=l.prenume,d=l.nume,j=l.email,b=l.password,p=l.password2,m=l.role,h=function(e){return o(Object(R.a)(Object(R.a)({},l),{},Object(P.a)({},e.target.name,e.target.value)))};return r?Object(a.jsx)(D.a,{to:"/"}):Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"row flex-column login-card p-3",children:[Object(a.jsx)("div",{className:"login-head mb-3 text-left",children:Object(a.jsx)("h4",{children:"Creaza un utilizator"})}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),b!==p?t("Parolele nu corespund","danger",2e3):n({prenume:u,nume:d,email:j,password:b,role:m})}(e)},children:[Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Prenume"}),Object(a.jsx)("input",{type:"prenume",name:"prenume",value:u,onChange:function(e){return h(e)},id:"prenume"})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Nume"}),Object(a.jsx)("input",{type:"nume",name:"nume",value:d,onChange:function(e){return h(e)},id:"nume",required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Email"}),Object(a.jsx)("input",{type:"email",name:"email",placeholder:"example@website.com",id:"email",value:j,onChange:function(e){return h(e)},required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Rol"}),Object(a.jsxs)("select",{name:"role",id:"role",value:m,onChange:function(e){return h(e)},required:!0,children:[Object(a.jsx)("option",{value:"MP",children:"Manager Proiect"}),Object(a.jsx)("option",{value:"TST",children:"Tester"})]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Parola"}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",value:b,onChange:function(e){return h(e)},required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Confirma Parola"}),Object(a.jsx)("input",{type:"password",name:"password2",id:"password2",value:p,onChange:function(e){return h(e)},required:!0})]}),Object(a.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Creaza cont"})]})]})})})})})),G=n(19),U=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,c=Object(G.a)(e,["component","auth"]);return Object(a.jsx)(D.b,Object(R.a)(Object(R.a)({},c),{},{render:function(e){return n.isAuthenticated||n.loading?Object(a.jsx)(t,Object(R.a)({},e)):Object(a.jsx)(D.a,{to:"/login"})}}))})),J=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,c=Object(G.a)(e,["component","auth"]);return Object(a.jsx)(D.b,Object(R.a)(Object(R.a)({},c),{},{render:function(e){return n.isAuthenticated||n.loading||"MP"!=n.user.role?Object(a.jsx)(t,Object(R.a)({},e)):Object(a.jsx)(D.a,{to:"/"})}}))})),H=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,c=Object(G.a)(e,["component","auth"]);return Object(a.jsx)(D.b,Object(R.a)(Object(R.a)({},c),{},{render:function(e){return n.isAuthenticated||n.loading||"TST"!=n.user.role?Object(a.jsx)(t,Object(R.a)({},e)):Object(a.jsx)(D.a,{to:"/"})}}))})),B={setAlert:E,login:A},V=Object(o.b)((function(e){var t;return{isLoggedIn:e.auth.isAuthenticated,role:null===(t=e.auth.user)||void 0===t?void 0:t.role}}),B)((function(e){var t=e.role,n=(e.login,e.setAlert),r=e.history,s=Object(c.useState)({title:"",description:"",repository:""}),i=Object(M.a)(s,2),l=i[0],o=i[1],u=l.title,b=l.description,m=l.repository,h=function(e){return o(Object(R.a)(Object(R.a)({},l),{},Object(P.a)({},e.target.name,e.target.value)))};if("MP"!==t)return Object(a.jsx)(D.a,{to:"/"});var O=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding a project"),a={headers:{"Content-Type":"application/json"}},c=JSON.stringify({title:u,description:b,repository:m}),e.prev=3,e.next=6,p.a.post("/api/project",c,a).then((function(e){console.log(e),n("Proiectul a fost adaugat cu succes","success"),r.push("/")}));case 6:e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),(s=e.t0.response.data.errors)&&s.forEach((function(e){return n(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"row flex-column login-card p-3",children:[Object(a.jsx)("div",{className:"login-head mb-3 text-left",children:Object(a.jsx)("h4",{children:"Adauga un proiect"})}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),O()}(e)},children:[Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Titlu"}),Object(a.jsx)("input",{type:"title",name:"title",value:u,onChange:function(e){return h(e)},id:"title"})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Descriere"}),Object(a.jsx)("input",{type:"description",name:"description",value:b,onChange:function(e){return h(e)},id:"description",required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Github Url"}),Object(a.jsx)("input",{type:"repository",name:"repository",placeholder:"example@website.com",id:"repository",value:m,onChange:function(e){return h(e)},required:!0})]}),Object(a.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Adauga proiect"})]})]})})})})})),z=n(20),W={setAlert:E},K=Object(o.b)((function(e){return{auth:e.auth}}),W)((function(e){var t,n,r,s=e.match,i=e.auth,o=e.setAlert,u=Object(c.useState)({}),b=Object(M.a)(u,2),m=b[0],h=b[1],O=Object(c.useState)([]),x=Object(M.a)(O,2),f=x[0],v=x[1],g=Object(c.useState)([]),N=Object(M.a)(g,2),y=N[0],w=N[1],C=Object(c.useState)([]),S=Object(M.a)(C,2),k=S[0],E=S[1],T={headers:{"Content-Type":"application/json"}};Object(c.useEffect)((function(){L()}),[]);var A=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.find((function(e){return e.id===i.user.id}))){e.next=4;break}o("Esti deja Manager la acest proiect","info"),e.next=13;break;case 4:return t=JSON.stringify({user_id:i.user.id,project_id:s.params.id}),e.prev=5,e.next=8,p.a.post("/api/project/teams",t,T).then((function(e){L()}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.dir(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.find((function(e){return e.id===i.user.id}))){e.next=4;break}o("Esti deja Tester la acest proiect","info"),e.next=13;break;case 4:return t=JSON.stringify({user_id:i.user.id,project_id:s.params.id}),e.prev=5,e.next=8,p.a.post("/api/project/teams",t,T).then((function(e){L()}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.dir(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/project/".concat(s.params.id),T).then((function(e){console.log(e.data),h(Object(R.a)({},e.data))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.dir(e.t0);case 8:return e.prev=8,e.next=11,p.a.get("/api/project/".concat(s.params.id,"/team/mps"),T).then((function(e){console.log(e.data),v(Object(z.a)(e.data)),console.log(m)}));case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.dir(e.t1);case 16:return e.prev=16,e.next=19,p.a.get("/api/project/".concat(s.params.id,"/team/tsts"),T).then((function(e){console.log(e.data),w(Object(z.a)(e.data))}));case 19:e.next=24;break;case 21:e.prev=21,e.t2=e.catch(16),console.dir(e.t2);case 24:return e.prev=24,e.next=27,p.a.get("/api/project/get-bugs/".concat(s.params.id,"/"),T).then((function(e){console.log(e.data),E(Object(z.a)(e.data))}));case 27:e.next=32;break;case 29:e.prev=29,e.t3=e.catch(24),console.dir(e.t3);case 32:case"end":return e.stop()}}),e,null,[[0,5],[8,13],[16,21],[24,29]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("div",{className:"container page pb-5",children:Object(a.jsxs)("div",{className:"d-flex flex-column",children:[Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)("h3",{children:null===m||void 0===m?void 0:m.title})}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h4",{children:"Descriere"}),Object(a.jsx)("p",{children:null===m||void 0===m?void 0:m.description})]}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h4",{children:"Repository"}),Object(a.jsx)("p",{children:null===m||void 0===m?void 0:m.repository})]}),Object(a.jsxs)("div",{className:"d-flex flex-row justify-content-start",children:[Object(a.jsxs)("div",{className:"mt-3 mr-4",children:[Object(a.jsx)("h4",{children:"Echipa Manageri Proiect"}),Object(a.jsx)("ul",{className:"list-group",style:{width:"350px"},children:f.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:e.email},e.id)}))})]}),Object(a.jsxs)("div",{className:"mt-3 mr-4",children:[Object(a.jsx)("h4",{children:"Echipa Testeri Proiect"}),Object(a.jsx)("ul",{className:"list-group",style:{width:"350px"},children:y.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:e.email},e.id)}))})]}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h4",{children:"Lista Buguri"}),Object(a.jsx)("ul",{className:"list-group",style:{width:"350px"},children:k.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:e.title},e.id)}))})]})]}),Object(a.jsxs)("div",{className:"mt-4 align-self-center",children:["TST"===(null===(t=i.user)||void 0===t?void 0:t.role)&&y.find((function(e){return e.id===i.user.id}))&&Object(a.jsx)(l.b,{className:"btn btn-primary mr-2",to:{pathname:"".concat(s.params.id,"/add-bug")},children:"Adauga BUG"}),"TST"===(null===(n=i.user)||void 0===n?void 0:n.role)&&Object(a.jsx)("button",{className:"btn btn-primary mr-2",onClick:function(){return I()},type:"submit",children:"Become a tester for this project"}),"MP"===(null===(r=i.user)||void 0===r?void 0:r.role)&&Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return A()},type:"submit",children:"Become a MP for this project"})]})]})})})})),Q=(n(75),n(17)),X=n(41),Y=n(42),Z=[],$={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},ee={projects:[],project:[],loading:!0,error:{}},te=Object(Q.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O:return[].concat(Object(z.a)(e),[a]);case x:return e.filter((function(e){return e.id!==a}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case g:return Object(R.a)(Object(R.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a});case f:case y:return localStorage.setItem("token",a.token),Object(R.a)(Object(R.a)(Object(R.a)({},e),a),{},{isAuthenticated:!0,loading:!1});case v:case N:case w:case C:return localStorage.removeItem("token"),Object(R.a)(Object(R.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case S:return Object(R.a)(Object(R.a)({},e),{},{projects:a,loading:!1});case k:return Object(R.a)(Object(R.a)({},e),{},{error:a,loading:!1});default:return e}}}),ne=[Y.a],ae=Object(Q.createStore)(te,{},Object(X.composeWithDevTools)(Q.applyMiddleware.apply(void 0,ne))),ce={setAlert:E},re=Object(o.b)((function(e){var t;return{isLoggedIn:e.auth.isAuthenticated,role:null===(t=e.auth.user)||void 0===t?void 0:t.role}}),ce)((function(e){var t=e.setAlert,n=(e.role,e.match),r=e.history,s=Object(c.useState)({title:"",severity:"CRITICAL",priority:"HIGH",status:"UNSOLVED",foundOnCommit:""}),i=Object(M.a)(s,2),l=i[0],o=i[1],u=l.title,b=l.severity,m=l.priority,h=l.foundOnCommit,O=l.status,x=function(e){return o(Object(R.a)(Object(R.a)({},l),{},Object(P.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(j.a)(d.a.mark((function e(){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},c=JSON.stringify({title:u,severity:b,priority:m,status:O,foundOnCommit:h,project_id:n.params.id}),console.log(c),e.prev=3,e.next=6,p.a.post("/api/project/add-bug",c,a).then((function(e){console.log(e),t("Bug-ul a fost adaugat cu succes","success"),r.push("/projects/"+n.params.id)}));case 6:e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),(s=e.t0.response.data.errors)&&s.forEach((function(e){return t(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"row flex-column login-card p-3",children:[Object(a.jsx)("div",{className:"login-head mb-3 text-left",children:Object(a.jsx)("h4",{children:"Adauga un Bug"})}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),f()}(e)},children:[Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Titlu"}),Object(a.jsx)("input",{type:"title",name:"title",value:u,onChange:function(e){return x(e)},id:"title",required:!0})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Severitate"}),Object(a.jsxs)("select",{name:"severity",id:"severity",value:"CRITIC",onChange:function(e){return x(e)},required:!0,children:[Object(a.jsx)("option",{value:"CRITICAL",children:"Critical"}),Object(a.jsx)("option",{value:"MAJOR",children:"Major"}),Object(a.jsx)("option",{value:"MODERATE",children:"Moderate"}),Object(a.jsx)("option",{value:"MINOR",children:"Minor"}),Object(a.jsx)("option",{value:"COSMETIC",children:"Cosmetic"})]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Prioritate"}),Object(a.jsxs)("select",{name:"priority",id:"priority",value:"HIGHEST",onChange:function(e){return x(e)},required:!0,children:[Object(a.jsx)("option",{value:"HIGHEST",children:"Highest"}),Object(a.jsx)("option",{value:"High",children:"High"}),Object(a.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(a.jsx)("option",{value:"LOW",children:"Low"})]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Status"}),Object(a.jsxs)("select",{name:"status",id:"status",value:"UNSOLVED",onChange:function(e){return x(e)},required:!0,children:[Object(a.jsx)("option",{value:"UNSOLVED",children:"Unsolved"}),Object(a.jsx)("option",{value:"SOLVED",children:"Solved"}),Object(a.jsx)("option",{value:"PENDING",children:"Pending"})]})]}),Object(a.jsxs)("div",{className:"d-flex flex-column mb-2",children:[Object(a.jsx)("label",{className:"mb-0",children:"Commit Url"}),Object(a.jsx)("input",{type:"foundOnCommit",name:"foundOnCommit",placeholder:"example@website.com",id:"foundOnCommit",value:h,onChange:function(e){return x(e)},required:!0})]}),Object(a.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Adauga bug"})]})]})})})})}));localStorage.token&&m(localStorage.token);var se=function(){return Object(c.useEffect)((function(){ae.dispatch(T())}),[]),Object(a.jsx)(o.a,{store:ae,children:Object(a.jsx)(l.a,{children:Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsx)(F,{}),Object(a.jsx)("section",{className:"container",children:Object(a.jsxs)(D.d,{children:[Object(a.jsx)(U,{exact:!0,path:"/",component:L}),Object(a.jsx)(D.b,{exact:!0,path:"/register",component:q}),Object(a.jsx)(D.b,{exact:!0,path:"/login",component:_}),Object(a.jsx)(J,{exact:!0,path:"/add-project",component:V}),Object(a.jsx)(U,{exact:!0,path:"/projects/:id",component:K}),Object(a.jsx)(H,{exact:!0,path:"/projects/:id/add-bug",component:re})]})})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(se,{})}),document.getElementById("root")),ie()}},[[76,1,2]]]);
//# sourceMappingURL=main.82d37823.chunk.js.map